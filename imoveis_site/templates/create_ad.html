{% extends 'base.html' %}

{% block title %}Criar AnÃºncio - Site de ImÃ³veis{% endblock %}

{% block content %}
<div class="form-container">
    <!-- CabeÃ§alho -->
    <div style="text-align: center; margin-bottom: 2rem;">
        <h2 style="color: var(--cor-destaque); font-size: 2rem; margin-bottom: 0.5rem;">
            ğŸ“ Criar Novo AnÃºncio
        </h2>
        <p style="color: var(--cor-texto);">
            Preencha as informaÃ§Ãµes do seu imÃ³vel
        </p>
    </div>

    <!-- FormulÃ¡rio -->
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <!-- TÃ­tulo -->
        <div class="form-group">
            <label for="title">
                ğŸ  TÃ­tulo do AnÃºncio <span style="color: #dc3545;">*</span>
            </label>
            <input type="text" 
                   class="form-control" 
                   id="title" 
                   name="title" 
                   placeholder="Ex: Apartamento 2 quartos no Centro"
                   required>
            <small style="color: var(--cor-destaque); font-size: 0.9rem;">
                Seja claro e objetivo no tÃ­tulo
            </small>
        </div>

        <!-- Categoria -->
        <div class="form-group">
            <label for="category">
                ğŸ“‚ Tipo de ImÃ³vel <span style="color: #dc3545;">*</span>
            </label>
            <select class="form-control" id="category" name="category" required>
                <option value="">Selecione o tipo</option>
                <option value="apartamento">ğŸ¢ Apartamento</option>
                <option value="casa">ğŸ¡ Casa</option>
                <option value="studio">ğŸ  Studio/Kitnet</option>
                <option value="comercial">ğŸª Comercial</option>
                <option value="terreno">ğŸŒ¾ Terreno</option>
                <option value="chacara">ğŸï¸ ChÃ¡cara/SÃ­tio</option>
            </select>
        </div>

        <!-- PreÃ§o e Local na mesma linha -->
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="price">
                        ğŸ’° PreÃ§o Mensal (R$) <span style="color: #dc3545;">*</span>
                    </label>
                    <input type="number" 
                           class="form-control" 
                           id="price" 
                           name="price" 
                           step="0.01" 
                           min="0"
                           placeholder="1500.00"
                           required>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="location">
                        ğŸ“ LocalizaÃ§Ã£o <span style="color: #dc3545;">*</span>
                    </label>
                    <input type="text" 
                           class="form-control" 
                           id="location" 
                           name="location" 
                           placeholder="Ex: Belo Horizonte - MG"
                           required>
                </div>
            </div>
        </div>

        <!-- DescriÃ§Ã£o -->
        <div class="form-group">
            <label for="description">
                ğŸ“„ DescriÃ§Ã£o Detalhada
            </label>
            <textarea class="form-control" 
                      id="description" 
                      name="description" 
                      rows="5" 
                      placeholder="Descreva as caracterÃ­sticas do imÃ³vel, comodidades, localizaÃ§Ã£o, etc."></textarea>
            <small style="color: var(--cor-destaque); font-size: 0.9rem;">
                Quanto mais detalhes, melhor para atrair interessados
            </small>
        </div>

        <!-- Upload de Imagem (se existir no model) -->
        <div class="form-group">
            <label for="image">
                ğŸ“¸ Foto do ImÃ³vel
            </label>
            <input type="file" 
                   class="form-control" 
                   id="image" 
                   name="image" 
                   accept="image/*">
            <small style="color: var(--cor-destaque); font-size: 0.9rem;">
                Uma boa foto aumenta suas chances de locaÃ§Ã£o
            </small>
        </div>

        <!-- InformaÃ§Ãµes Adicionais -->
        <div style="background: var(--cor-primaria); padding: 1rem; border-radius: 6px; margin-bottom: 1.5rem;">
            <h4 style="color: var(--cor-destaque); margin-bottom: 0.5rem; font-size: 1.1rem;">
                ğŸ’¡ Dicas para um bom anÃºncio:
            </h4>
            <ul style="margin: 0; padding-left: 1.5rem; color: var(--cor-texto);">
                <li>Use um tÃ­tulo claro e atrativo</li>
                <li>Inclua todas as caracterÃ­sticas importantes</li>
                <li>Seja honesto sobre o estado do imÃ³vel</li>
                <li>Adicione uma foto de qualidade</li>
            </ul>
        </div>

        <!-- BotÃµes de AÃ§Ã£o -->
        <div style="display: flex; gap: 1rem; justify-content: center;">
            <button type="submit" class="btn btn-primary" style="min-width: 150px;">
                âœ… Publicar AnÃºncio
            </button>
            <a href="{% url 'index' %}" class="btn btn-secondary" style="min-width: 150px;">
                âŒ Cancelar
            </a>
        </div>
    </form>
</div>

<!-- Script para melhorar UX -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Adiciona contador de caracteres para descriÃ§Ã£o
    const descricao = document.getElementById('description');
    if (descricao) {
        const contador = document.createElement('small');
        contador.style.color = 'var(--cor-destaque)';
        contador.style.float = 'right';
        descricao.parentNode.appendChild(contador);
        
        descricao.addEventListener('input', function() {
            contador.textContent = `${this.value.length} caracteres`;
        });
    }
    
    // FormataÃ§Ã£o automÃ¡tica do preÃ§o
    const preco = document.getElementById('price');
    if (preco) {
        preco.addEventListener('blur', function() {
            if (this.value) {
                this.value = parseFloat(this.value).toFixed(2);
            }
        });
    }
});
</script>
{% endblock %}